<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/design-system/2.13.7/styles/salesforce-lightning-design-system.min.css" integrity="sha512-UV/bdfkf/vUvwZ6/aVq8zas293BNyu43i68QdurkfUmSjGRiCxKISDe29R6VPB3YKfeA/lCjGyfXLBIzlpTg5A==" crossorigin="anonymous" /> 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/design-system/2.13.7/styles/salesforce-lightning-design-system.sanitized.min.css" integrity="sha512-O9RC97AHIeSWK6mAA/b1GBPzrBsmNBT8nN2yz6vghHn0Eatt4P7ilv4H+uO5mp7WIDh9sKbUoKSg3pGsPM8ShA==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/design-system/2.13.7/styles/salesforce-lightning-design-system_touch.min.css" integrity="sha512-5j2QXzkr/ZIuvsLKYgRr8HEfAx5D+Mg0dFDCSGwKR2GKcdZbJSynKdirYGVGRVWLz9ryxV4/0kfoCGffJD3fQw==" crossorigin="anonymous" />
    
    <script>
        var url="/asset";
                                      

        fetch(url, {  //provide URL of the processing page
                 method: "POST",

                 headers: {
                     "Content-Type": "application/json"
                 },
                 body: {
                     "assetType":"image",

                 },
                 dataType : "json"
             })
          .then(response => response.text())
  .then(data => {
   console.log(data);
   var parsedData = JSON.parse(data).targetDEArray;
   console.log("parsed data  : " + JSON.stringify(parsedData) );
 //  var a = "55C8455F-B11D-4A56-927A-6D482CD65C20";
 //  console.log(parsedData.targetDEArray.a); 
  // console.log();

 //   console.log(data.targetDEArray);
 var dataextensionArray = []; 
 for (const [keyimage, value] of Object.entries(parsedData)) 
 {
        console.log("yeh key hai : " + keyimage);
        
        console.log("yeh value hai : " + value);
        document.getElementById("Data Extensions").innerHTML = value ;
        dataextensionArray.push(value); 

        var str = '<ul>'

            dataextensionArray.forEach(function(slide) {
              str += '<input type="checkbox" id = "checkbox" onclick='handleClick(this)>'+ slide  + '<br />';
            }); 
            
            str += '</ul>';
        //    var button = document.createElement("button");
        //    button.innerHTML = str;
            document.getElementById("Data Extensions").innerHTML = str;

            function handleClick(cb) {
             console.log("Clicked, new value = " + cb.checked);
            }
            document.getElementById('check').onchange = function() {
            var checkboxes = document.getElementsByName('checkbox');
            for (var checkbox of checkboxes) {
                if (checkbox.checked)
                document.body.append(checkbox.value + ' ');
            }
            }
      
     }

     var url="/fields";
                                      

     fetch(url, {  //provide URL of the processing page
              method: "POST",

              headers: {
                  "Content-Type": "application/json"
              },
              body: {
                  "assetType":"fields",

              },
              dataType : "json"
          })
       .then(response => response.text())
.then(data => {
});

 

 //var deArray = []
 /*for ( i in parsedData ) 
   {
    // console.log(i);
      console.log(parsedData[i]);
      deArray.push(parsedData[i]);
      console.log("deArray" + deArray );
  //    document.getElementById("deArray").innerHTML = "/n" +  parsedData[i]  + "/n" ;
   } */
  // alert(typeof deArray);
 //  var res = deArray.toString().split(',');
 //  console.log("yeh res hai :  " + res);
   
 /*  for (i in res)
   {
    console.log(i);
    console.log(res[i]);
    document.getElementById("deArray").innerHTML = res[i] ;

   } */

  /* var str = '<ul>'

    res.forEach(function(slide) {
      str += '<li>'+ slide + '</li>';
    }); 
    
    str += '</ul>';
    document.getElementById("Data Extensions").innerHTML = str;
   
   */


    
  });


    </script>

    <style>
        #marketing-asideLeft {
    
    width:30%;
    height: 80%;
    vertical-align:top;
    
    
    }
    #marketing-asideRight {
    
    width:70%;
    height: 100%;
    vertical-align:top;
    }
    </style>
</head>

<body>

    <div class="slds-float_left" style="width:15%;height:100%;">
        <div class="slds-panel slds-size_small slds-panel_docked slds-panel_docked-left slds-is-open" style="position: fixed;" aria-hidden="false">
          <div class="slds-panel__header">
              <h2 class="slds-panel__header-title slds-text-heading_small slds-truncate" title="Panel Header">Data Extensions</h2>
             </div>
                 <div class="slds-panel__body">
  
                     <div class="demo-only" style="width:100%">
                     <nav class="slds-nav-vertical" aria-label="Sub page">
                     <div class="slds-nav-vertical__section">
                             <h2 id="entity-header" class="slds-nav-vertical__title"> </h2>
                             <ul aria-describedby="entity-header">
                        
                                 
                             <!--   <button class="slds-nav-vertical__action slds-button" onclick="contentblockbutton()" style="padding-top:0px;padding-bottom:0px;padding-left:4px;">Content blocks</button>    
                                  <div class="slds-nav-vertical__section" id= "deArray">   </div>        -->
                                  
                                    <div class="slds-scrollable"  style="height:54rem;width:24rem" >
                                 
                                         <div class="slds-text-longform" id= "Data Extensions" style="width:150%"> 
                                                
                                        </div>
                                    </div> 
                                    <div id ="check">
                                        Yaha checked wale aainge 

                                    </div>
                               
                                 
                             </ul>
                     </div>
                     </nav>
                    </div>
             </div> 
   </div>

</body>
</html>
